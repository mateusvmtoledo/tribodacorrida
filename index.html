<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tribo da Corrida - Encontre sua pr√≥xima corrida</title>
    <meta name="description" content="O maior portal de corridas do Brasil. Encontre eventos de rua, trilha, ultramaratonas, duathlon e triathlon perto de voc√™!" />
    <meta name="keywords" content="corrida, maratona, trilha, ultramaratona, duathlon, triathlon, eventos esportivos, Brasil" />
    <meta name="author" content="Tribo da Corrida" />

    <meta property="og:title" content="Tribo da Corrida - Encontre sua pr√≥xima corrida" />
    <meta property="og:description" content="O maior portal de corridas do Brasil. Encontre eventos de rua, trilha, ultramaratonas e muito mais!" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@TriboDaCorrida" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <!-- 1Ô∏è‚É£ CARREGA O SDK DO CATALYST -->
    <script src="https://static.zohocdn.com/catalyst/sdk/js/4.5.0/catalystWebSDK.js"></script>

    <!-- 2Ô∏è‚É£ INICIALIZA O CATALYST AP√ìS O CARREGAMENTO -->
    <script>
      console.log("üîß [HTML] Script de inicializa√ß√£o carregado");
      
      // Aguarda o DOM estar pronto
      document.addEventListener('DOMContentLoaded', function() {
        console.log("üìÑ [HTML] DOM carregado");
        console.log("üîç [HTML] Verificando window.catalyst:", window.catalyst);
        
        if (!window.catalyst) {
          console.error("‚ùå [HTML] ERRO: window.catalyst n√£o encontrado!");
          console.error("üí° [HTML] Verifique se o script do Catalyst carregou corretamente");
          return;
        }
        
        console.log("‚úÖ [HTML] window.catalyst encontrado:", window.catalyst);
        console.log("üîç [HTML] Propriedades dispon√≠veis:", Object.keys(window.catalyst));
        
        try {
          // SDK 4.5.0 - Precisa criar uma inst√¢ncia com credenciais!
          console.log("üöÄ [HTML] Criando CatalystApp com credenciais...");
          
          // Cria o objeto de credenciais
          const app = window.catalyst.initialize({
            projectId: "28308000000011085",
            zaid: "50037517394"
          });
          
          console.log("‚úÖ [HTML] CatalystApp inicializado:", app);
          
          // Armazena a inst√¢ncia globalmente para uso posterior
          window.catalystApp = app;
          window.catalystReady = true;
          
          console.log("‚úÖ [HTML] Tudo pronto para uso!");
          
        } catch (error) {
          console.error("‚ùå [HTML] Erro ao inicializar:", error);
          
          // FALLBACK: Tenta a sintaxe antiga
          try {
            console.log("üîÑ [HTML] Tentando sintaxe alternativa...");
            
            const credentials = {
              projectId: "28308000000011085",
              zaid: "50037517394"
            };
            
            if (window.catalyst.init) {
              window.catalyst.init(credentials);
            } else if (window.catalyst.auth && window.catalyst.auth.init) {
              window.catalyst.auth.init(credentials);
            }
            
            window.catalystApp = window.catalyst;
            window.catalystReady = true;
            console.log("‚úÖ [HTML] Inicializado via fallback!");
            
          } catch (fallbackError) {
            console.error("‚ùå [HTML] Falha total:", fallbackError);
            window.catalystReady = true; // Marca como pronto mesmo assim
          }
        }
      });
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>